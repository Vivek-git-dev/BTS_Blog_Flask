{% extends "base.html" %}
{% block title %}Home | BTS{% endblock %}

{% block content %}

<div class="container py-5">

  <!-- Page Heading -->
  <h1 class="display-5 fw-bold text-dark hero-animate" style="letter-spacing:1px;">
    Take a Break! Sip a Story! Feel the Vibe!
  </h1>

  <!-- Hero Section -->
  <section class="mb-5">
    <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary">

      <div class="row align-items-center">

        <!-- LEFT: Hero Text -->
        <div class="col-lg-6 px-0">
          <strong class="d-inline-block mb-2 text-primary-emphasis">Featured Story</strong>
          <span class="badge bg-secondary ms-2">{{ posts[0].views or 0 }} views</span>
          <h1 class="display-5 fw-bold">{{ posts[0].title }}</h1>

          <p class="lead my-3">
            {{ posts[0].summary }}
          </p>
          <p class="lead mb-0"> <a href="{{ url_for('blog.post_detail', slug=posts[0].slug) }}"
              class="text-body-emphasis fw-bold">Read More.</a></p>
        </div>

        <!-- RIGHT: Thumbnail Image -->
        <div class="col-lg-6 text-center">
          <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f" class="img-fluid rounded shadow-sm"
            alt="Featured Image">
        </div>
      </div>

    </div>
  </section>

  <!-- Blogs Section-->
  <section>
    <div class="row g-5">
      <div class="col-md-8">
        <!-- Horizontal Row with Two Posts -->
        <div class="row mb-2">
          {% for post in posts %}
          <div class="col-md-6">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
              <div class="col p-4 d-flex flex-column position-static"> <strong
                  class="d-inline-block mb-2 text-primary-emphasis">Popular</strong>
                <h3 class="mb-0">
                  {{ post.title}}</h3>
                <div class="mb-1 text-body-secondary">{{ post.created_at.strftime("%b %d, %Y") }} &bull; {{ post.views
                  or 0 }} views</div>
                <p class="card-text mb-auto">{{post.summary | safe}}</p>
                <a href="{{ url_for('blog.post_detail', slug=post.slug) }}"
                  class="icon-link gap-1 icon-link-hover stretched-link"> Continue reading
                  <svg class="bi" aria-hidden="true">
                    <use xlink:href="#chevron-right"></use>
                  </svg>
                </a>
              </div>
            </div>
          </div>
          {% endfor %}
          <!-- Horizontal Row Ends Here -->
        </div>
      </div>
      <div class="col-md-4">
        <div class="position-sticky" style="top: 2rem;">
          <div>
            <h4 class="fst-italic">Trending Posts</h4>
            <ul class="list-unstyled">
              {% for post in trending_posts %}
              <li> <a
                  class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
                  href="{{ url_for('blog.post_detail', slug=post.slug) }}"> <svg aria-hidden="true"
                    class="bd-placeholder-img " height="96" preserveAspectRatio="xMidYMid slice" width="100%"
                    xmlns="http://www.w3.org/2000/svg">
                    <rect width="100%" height="100%" fill="#777"></rect>
                  </svg>
                  <div class="col-lg-8">
                    <h6 class="mb-0">{{ post.title }}</h6> <small class="text-body-secondary">{{ post.views or 0 }}
                      views</small>
                  </div>
                </a> </li>
              {% endfor %}
            </ul>
          </div>
          <div class="p-4">
            <h4 class="fst-italic">Archives</h4>
            <ol class="list-unstyled mb-0">
              {% for m in months %}
              <li><a href="{{ url_for('main.archives', year=m.year, month=m.month) }}">{{ m.name }} {{ m.year }}</a>
              </li>
              {% endfor %}
            </ol>
          </div>
          <!-- <div class="p-4">
            <h4 class="fst-italic">Stay Connected</h4>
            <ol class="list-unstyled">
              <li><a href="#">GitHub</a></li>
              <li><a href="#">Social</a></li>
              <li><a href="#">Facebook</a></li>
            </ol>
          </div> -->
        </div>
      </div>
    </div>
  </section>
  {% endblock %}