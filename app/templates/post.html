{% extends "base.html" %}
{% block title %}Post | BTS{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Page Heading -->
    <section class="mb-5">
        <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary">
          <div class="col-lg-6 px-0">
            <h1 class="display-4 fst-italic">Post Name</h1>
            <p class="lead my-3">Post Subtitle</p>
            <p class="blog-post-meta">January 1, 2021 by <a href="#">Mark</a></p>
          </div>
        </div>
    </section>
    <section>
    <!-- Article Body -->
    <div> <h3 class="pb-4 mb-4 fst-italic border-bottom">
</h3> <article class="blog-post"> <h1>Another blog post</h1>
         <p>This blog post shows a few different types of content that’s supported and styled with Bootstrap. Basic typography, lists, tables, images, code, and more are all supported as expected.</p> <hr> <p>This is some additional paragraph placeholder content. It has been written to fill the available space and show how a longer snippet of text affects the surrounding content. We'll repeat it often to keep the demonstration flowing, so be on the lookout for this exact same string of text.</p>
    </article>
        <a class="btn btn-outline-secondary rounded-pill disabled" aria-disabled="true">Newer</a>
    </div>
    </section>

    <!-- Comment List -->
    {% for comment in post.comments | sort(attribute='created_at', reverse=True) %}
        <div class="card mb-3 shadow-sm">
            <div class="card-body">

                <!-- Comment Author -->
                <h6 class="fw-bold mb-1">
                    {{ comment.user.name if comment.user else comment.author_name }}
                </h6>

                <!-- Comment Timestamp -->
                <small class="text-muted">
                    {{ comment.created_at.strftime('%b %d, %Y • %I:%M %p') }}
                </small>

                <p class="mt-3 mb-0">{{ comment.content }}</p>
            </div>
        </div>
    {% else %}
        <p class="text-muted">No comments yet. Be the first to comment!</p>
    {% endfor %}
{% endblock %}